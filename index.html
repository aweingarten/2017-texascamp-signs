<html>
<head>
    <title>Beyond Websites: Using Drupal For Digital Signs</title>
    <link rel="stylesheet" href="src/reveal/css/reveal.css">
    <link rel="stylesheet" href="src/reveal/css/theme/black.css">
    <link rel="stylesheet" href="src/reveal/lib/css/zenburn.css">
    <link rel="stylesheet" href="custom.css">
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section class="present" style="top: 143.5px; display: block;">
            <h2>Beyond Websites: Using Drupal For Digital Signs</h2>
            <span><img  class="acquia-color-logo" alt="Acquia Logo" src="img/acquia-colors.png" width="225"></span>

            <span><img  class="baltimore-logo" alt="Drupalcon Baltimore 2017" src="img/drupalcon-baltimore.svg" width="225"></span>
        </section>

        <section>
            <section>About Us</section>

            <section>
                Adam Weingarten
                <p class="fragment fade-right">Technical Architect, Acquia</p>
                <p class="fragment fade-right">
                    D.O: <a href="https://www.drupal.org/u/adamweingarten"> adam.weingarten </a> <br />
                    github: <a href="https://github.com/aweingarten/">aweingarten</a> <br />
                    linkedin: <a href="https://www.linkedin.com/in/adamweingarten"> adam.weingarten</a>
                </p>
            </section>

            <section>Mike Madison
                    <p class="fragment fade-right">Technical Architect, Acquia</p>
                    <p class="fragment fade-right">
                        D.O: <a href="https://www.drupal.org/u/mikemadison">mikemadison </a> <br />
                        github: <a href="https://github.com/mikemadison13">mikemadison13</a> <br />
                        linkedin: <a href="https://www.linkedin.com/in/mikemadison">mikemadison</a>
                    </p>
            </section>
        </section>
        <!--End Section: About Us-->


        <section>
            <section>
                <h2>Why are we here?</h2>
                <p class="fragment fade-right">Next-generation digital experiences </p>
                <p class="fragment fade-right">Beyond conventional browser </p>
            </section>

            <section>
                <h2>What could those look like?</h2>
                <p class="fragment fade-right">Personal Aids: Alexa, Siri, Cortana</p>
                <p class="fragment fade-right">Touch Screen on a Car/Plane</p>
                <p class="fragment fade-right">Museum Kiosk</p>
            </section>

            <section>
                <h2>pop-quiz!</h2>
                <p class="fragment fade-right">What are other experiences?</p>
            </section>

            <section>
                <h2>Why are we really here? <span class="fragment fade-right">Signs!</span></h2>
            </section>

            <section>
                <h2>What are you going to hear about?</h2>
                <p class="fragment fade-right">Content Management</p>
                <p class="fragment fade-right">Working with external data</p>
                <p class="fragment fade-right">Data Transmission</p>
                <p class="fragment fade-right">Device Management</p>
                <p class="fragment fade-right">Security</p>
                <p class="fragment fade-right">Support</p>
                <p class="fragment fade-right">Case Studies</p>
            </section>


            <section>
                <h2>Why even use Drupal to power a sign? <br /> <span class="fragment fade-right">Skeptics say: There are better options!</span></h2>
                <span class="fragment fade-right">Caution: Gratuitous opportunity to cram in buzzwords and technologies!</span>

                <div class="fragment fade-right">
                <span><img  class="acquia-color-logo" alt="HTML 5 Logo" src="img/logos/html5_logo.png" width="225"></span>
                <span><img  class="acquia-color-logo" alt="Symfony Logo" src="img/logos/symfony_logo.png" width="300"></span>
                <span><img  class="acquia-color-logo" alt="Node Logo" src="img/logos/node_logo.png" width="225"></span>
                <span><img  class="acquia-color-logo" alt="Ember Logo" src="img/logos/ember_logo.png" width="225"></span>
                <span><img  class="acquia-color-logo" alt="Angular Logo" src="img/logos/angular_logo.png" width="225"></span>
                <span><img  class="acquia-color-logo" alt="React Logo" src="img/logos/react_logo.png" width="225"></span>
                </div>

                <p class="fragment fade-left">Great DX. Horrible UX.</p>
            </section>

            <section>
                <h2>Drupal provides UX for managing content!</h2>
                <p class="fragment fade-right">Even in a headless world drupal has a place</p>
                <p class="fragment fade-right">Makes it easy to author and edit</p>
                <p class="fragment fade-right">Has views to find the right content.</p>
                <p class="fragment fade-right">Services to spit it out</p>

            </section>
        </section>
        <!--End Section: why we are here-->

        <section>
            <section>
                <h2>Why do we use Drupal to manage content again?</h2>
                <p class="fragment fade-right"> Content Modeling</p>
                <p class="fragment fade-right"> Screen Controls</p>
                <p class="fragment fade-right"> Access Controls & Permissions</p>
                <p class="fragment fade-right"> Revisioning</p>
                <p class="fragment fade-right"> Translations</p>
                <p class="fragment fade-right">Reproducing this elsewhere is expensive</p>
            </section>

            <section>
                <h2>Drupal lets non dev mortals edit the web</h2>
             </section>


                <section>
                <h2>Content Model Example: <span class="fragment fade-right">DC Metro!</span></h2>
                </h2>

                <div class="wmata-left">
                    <img  class="wmata-sign" alt="Map of WMATA Subway System" src="img/wmata_map.png" width="60%">
                </div>

                <div class="wmata-right">
                    <p class="fragment fade-right"> <strong>Lines:</strong> Red, Blue, Yellow, Green</p>
                    <p class="fragment fade-right"> <strong>Line Direction:</strong> Shady Grove or  Glenmont</p>
                    <p class="fragment fade-right"> <strong>Stations:</strong> Metro Center, Smithsonian, Farragut North</p>
                    <p class="fragment fade-right"> <strong>Platforms:</strong> Single platform can service Mutiple lines.</p>
                </div>
            </section>

            <section>
                <h2>D8 Makes it easy to syndicate this data using webservices</h2>
                <p class="fragment fade-right"> Build your own API</p>
            </section>
        </section>
        <!--End Section: why drupal?-->


        <section>
            <section>
                <h2>Working with External Data and Feeds</h2>
                <p class="fragment fade-right"> Drupal isn't the source of all things. <span class="fragment fade-right"> Gasp!</span><span class="fragment fade-right"> Heresy!</span></p>

                <p class="fragment fade-right"> It can still help process outside data.</p>
            </section>

            <section>
                <h2>What kind of "external data" from outside APIs:  </h2>
                <p class="fragment fade-right"> Pinterest, Facebook, Twitter</p>
                <p class="fragment fade-right"> Train Arrivals</p>
                <p class="fragment fade-right"> Weather</p>
                <p class="fragment fade-right"> Stock Quotes</p>
                <p class="fragment fade-right"> Top News</p>
            </section>

            <section>
                <h2>Just do it on the client side? <span class="fragment fade-right">Nope.</span> </h2>
                <p class="fragment fade-right"> Api Rate Limiting </p>
                <p class="fragment fade-right"> Security/Credentials</p>
                <p class="fragment fade-right"> Client processing introduces inconsistencies.</p>
            </section>

            <section>
                <h2>Why not just write a Symfony app??</h2>
                <p class="fragment fade-right">
                    <img class="wmata-sign" alt="Hater Gonna Hate" src="img/cranks.jpg" width="40%">
                </p>
            </section>

            <section>
                <h2>Context is everything</h2>
                <p class="fragment fade-right"> Remember that drupal content model?</p>
                <p class="fragment fade-right"> We can use it to to process that data!</p>
            </section>

            <section>
                <h2>Back to our train example...</h2>
                <p class="fragment fade-right"> Say we have an arrival feed.</p>
                <p class="fragment fade-right"> Can process updates for specific signs</p>
                <p class="fragment fade-right"> Let the signs know that something has changed.</p>
                <p class="fragment fade-right"> Can't do that with a symfony app!</p>
                <p class="fragment fade-right"> Need to reinvent the wheel!</p>

            </section>

            <section>
                <h2>How does this actually work?</h2>
                <p class="fragment fade-right"> Start with a drush command</p>
                <p class="fragment fade-right"> Store the credentials in Drupal</p>
                <p class="fragment fade-right"> Sprinkle in some caching to enforce rate limits.</p>
                <p class="fragment fade-right"> Parse and normalize data</p>
            </section>

            <section>
                <h2>How to loop your drush command when all you have is cron?</h2>
                <p class="fragment fade-right"> Use cron to start the script on a regular interval (e.g. 1 minute)</p>
                <p class="fragment fade-right"> Pass iterations as a drush parameter into your command</p>
                <p class="fragment fade-right"> Write a loop within the script</p>
                <p class="fragment fade-right"> Repeat</p>
            </section>
            <section>
                <h2>DANGER!</h2>
                <p class="fragment fade-right"> This assumes that your script can run very fast</p>
                <p class="fragment fade-right"> Optimize and cache accordingly</p>
            </section>

        </section>
        <!--End Section: consuming feeds-->


        <section>
            <section>
                <h2>Data Transmission</h2>
                <p class="fragment fade-right"> Getting information from Drupal to your device</p>
            </section>

            <section>
                <h2>Approaches</h2>
                <p class="fragment fade-right"> Push me</p>
                <p class="fragment fade-right"> Pull me</p>
            </section>

            <section>
                <h2>Pull suks</h2>
                <p class="fragment fade-right"> High Traffic</p>
                <p class="fragment fade-right"> Load on devices</p>
                <p class="fragment fade-right"> Load on servers</p>
                <p class="fragment fade-right"> Can mimic DDOS</p>
            </section>

             <section>
                <h2>The dream</h2>
                <p class="fragment fade-right"> Send data to devices from multiple APIs in "real" time</p>
            </section>
            <section>
                <h2>Problem: Data in real time</h2>
                <p class="fragment fade-right"> Can't constantly reload</p>
                <p class="fragment fade-right"> Must stay "current" over time</p>
                <p class="fragment fade-right"> Limited or no user interactivity</p>
            </section>
            <section>
                <h2>Our Solution?</h2>
            </section>
            <section>
                <h2>Use a websocket!</h2>
                <p class="fragment fade-right"> Long connection time</p>
                <p class="fragment fade-right"> Nearly instantaneous communication</p>
                <p class="fragment fade-right"> Can be shared between devices</p>
                <p class="fragment fade-right"> Bi-directional</p>
            </section>
            <section>
                <h2>...and most importantly</h2>
            </section>
            <section>
                <h2>HIGHLY Scalable</h2>
                <p class="fragment fade-right"> (pretty critical for a lot of devices getting a lot of data)</p>
            </section>
            <section>
                <h2>Case Study: AWS IOT Service</h2>
                <p class="fragment fade-right"> N number of Devices each subscribe to 1 or more "topics"</p>
                <p class="fragment fade-right"> Drupal subscribes to one or more data sources</p>
                <p class="fragment fade-right"> Drupal pushes appropriate data to appropriate topic(s)</p>
                <p class="fragment fade-right"> IOT pushes data to connected device(s)</p>
            </section>
            <section>
                <img class="wmata-sign" alt="AWS Socket Illustration" src="img/sockets.png" width="50%">
            </section>
            <section>
                <img class="wmata-sign" alt="AWS Socket Illustration" src="img/sockets-updated.png" width="50%">
            </section>
            <section>
                <h2>Pretty cool but...</h2>
                <p class="fragment fade-right"> ...now we have a new problem</p>
            </section>
        </section>
        <!--End Section: Data Transmission-->

        <section>
            <section>
                <h2>Device Management</h2>
            </section>
            <section>
                <h2>So Far, Drupal Knows About:</h2>
                <p class="fragment fade-right"> Data</p>
                <p class="fragment fade-right"> Content</p>
            </section>
            <section>
                <h2>But!</h2>
                <p class="fragment fade-right"> That case study only works if Drupal knows about the Devices too</p>
            </section>
            <section>
                <h2>?</h2>
                <p class="fragment fade-right"> Which device cares about what data?</p>
                <p class="fragment fade-right"> What format should the data be provided in?</p>
            </section>
            <section>
                <h2>Which device cares about what data?</h2>
                <p class="fragment fade-right"> Device Location: DC Metro</p>
                <p class="fragment fade-right"> What direction do trains travel?</p>
                <p class="fragment fade-right"> What tracks does this screen cover?</p>
                <p class="fragment fade-right"> What platform is the device on?</p>
                <p class="fragment fade-right"> What station is the platform in?</p>
                <p class="fragment fade-right"> What routes run through that platform and station?</p>
            </section>
            <section>
                <img class="wmata-sign" alt="Example Architecture" src="img/architecture.png" width="70%">
            </section>
            <section>
                <h2>Create "Content" Types</h2>
                <p class="fragment fade-right"> Entity references provide context</p>
                <p class="fragment fade-right"> Metadata can be used in reports</p>
                <p class="fragment fade-right"> UX bonus: re-use this structure for message / data placement</p>
            </section>
            <section>
                <h2>Caution:</h2>
                <p class="fragment fade-right"> Fully boostrapping Drupal during parsing == slow</p>
                <p class="fragment fade-right"> Cache!</p>
            </section>
            <section>
                <h2>What format should the data be provided in?</h2>
                <p class="fragment fade-right"> What size screen?</p>
                <p class="fragment fade-right"> What IP address?</p>
                <p class="fragment fade-right"> What direction is the screen facing?</p>
            </section>
        </section>
        <!--End Section: Device Management-->
        
        <section>
            <section>
                <h2>Security</h2>
                <p class="fragment fade-right"> You just created a real device in the real world!</p>
                <p class="fragment fade-right"> And everyone wants to hack it</p>
                <p class="fragment fade-right">
                    <img  class="wmata-sign" alt="Map of WMATA Subway System" src="img/bullseye.png" width="20%">
                </p>
            </section>

            <section>
                <h2>Give your hardware some love</h2>
                <p class="fragment fade-right"> Embedded devices have poor security track-records</p>
                <p class="fragment fade-right"> Often ship with default passwords.</p>
                <p class="fragment fade-right"> Rely on insecure unpatched software</p>
                <p class="fragment fade-right"> Restrict physical access</p>
            </section>

            <section>
                <h2> If it can connect to the interwebs you can hack it</h2>
                <p class="fragment fade-right">Even a TV can be hacked</p>
            </section>

            <section>
                <h2>It's 2017 use SSL everywhere</h2>
                <p class="fragment fade-right"> No one wants a man in the middle attack</p>
                <p class="fragment fade-right"> Great way to vandalize your sign</p>
                <p class="fragment fade-right"> Go live blocker</p>
            </section>

            <section>
                <h2>General Best Practices</h2>
                <p class="fragment fade-right"> Prevent public IPs from logging in </p>
                <p class="fragment fade-right"> TFA</p>
                <p class="fragment fade-right"> Saml/SSO</p>
                <p class="fragment fade-right"> Lock down user registration</p>
            </section>

            <section>
                <h2> It's not paranoia if they are really out to get you</h2>
                <p class="fragment fade-right">In case you were wondering: they are.</p>
            </section>

        </section>
        <!--End Section: Security-->

        <section>
            <section>
                <h2>Support</h2>
            </section>
        </section>
        <!--End Section: Support-->

        <section>
            <section>
                <h2>Case Studies</h2>
            </section>
        </section>
        <!--End Section: Case Studies-->

        <section>
            <section>
                <h2>Wrap Up</h2>
                <p class="fragment fade-right"> Why Drupal is a good idea for signs!</p>
                <p class="fragment fade-right"> A few techniques to use</p>
                <p class="fragment fade-right"> A couple of case studies on how we used them</p>
            </section>
        </section>
        <!--End Section: Wrap Up-->

        <section>Questions?
            <p class="fragment fade-right"><a href="https://events.drupal.org/baltimore2017/sessions/beyond-websites-using-drupal-digital-signs">Leave us some feedback!</a></p>
        </section>

        <section>
            <p class="fragment fade-right">Friday sprint reminder slide</p>
            <p class="fragment fade-right">DA asked us to include this.</p>
        </section>

        <section>Thanks!</section>
    </div>


    <!-- 2. Create hidden header/footer <div> -->
        <div id="header">
            <!--<div id="header-left">HEADER-LEFT</div>-->
            <!--<div id="header-right">HEADER-RIGHT</div>-->
            <div id="footer-left">

                <!--<span><img  class="baltimore-logo" alt="Drupalcon Baltimore 2017" src="img/drupalcon-baltimore.svg" width="225"></span>-->
                <span class="author-title">Adam Weingarten and Mike Madison: Beyond Websites: Using Drupal For Digital Signs </span>

            </div>

            <div id="footer-right">
                <span id="time"></span>
                <span><img  class="acquia-logo" alt="Acquia " src="img/acquia.png" width="150"></span>
            </div>
        </div>
</div>


<script src="src/reveal/lib/js/head.min.js"></script>
<script src="src/stopwatch.js"></script>
<script><!-- Printing and PDF exports -->
show();
start();
</script>
<script src="src/reveal/js/reveal.js"></script>
<script>
    Reveal.initialize(
        {
            history: true,
            width: 1920,
            height: 1080,
            // Optional reveal.js plugins
            dependencies: [
                { src: 'src/reveal/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                { src: 'src/reveal/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                { src: 'src/reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                { src: 'src/reveal/plugin/zoom-js/zoom.js', async: true },
                { src: 'src/reveal/plugin/notes/notes.js', async: true }
            ]
        }
    );
</script>

</body>
</html>